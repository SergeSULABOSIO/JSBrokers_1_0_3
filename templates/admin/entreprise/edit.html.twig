{% extends 'base.html.twig' %}

{% block title %}
	{{pageName}}
{% endblock %}

{%  block titreRubrique %}
	{{ utilisateur.nom }}>{{ "entreprise_page_name_list" | trans }}>{{ pageName }}><strong>{{ entreprise.nom }}</strong>
{% endblock %}

{% block descriptionRubrique %}
	{{ "entreprise_description" | trans }}
{% endblock %}

{% block menuLateraleGauche %}
	{% include 'segments/menu_user_dashbord.html.twig' %}
{% endblock %}

{% block body %}
	<div class="container">
		<div class="card shadow-sm bg-body" style="width: 50rem;">
			<div class="card-body p-3">
				<p>
					{{ "entreprise_edition_description_message" | trans({
						':user': utilisateur.nom,
						':company': entreprise.nom,
					}) | raw }}
				</p>
				<p class="d-flex justify-content-center">
					{% if entreprise.thumbnail %}
						<img class="rounded" src="{{ vich_uploader_asset(entreprise, 'thumbnailFile') }}" alt="" width="620px" height="300px">
					{% else %}
						<img class="rounded" src="/images/entreprises/default_entreprise.jpg" alt="Image de l'entreprise" width="620px" height="300px">
					{% endif %}
				</p>
				<hr>
				{# Tableau d'onglets #}
				{# Barre de navigation #}
				{{ form_start(form) }}
				<nav>
					<div class="nav nav-tabs" id="nav-tab" role="tablist">
						<button class="nav-link active" id="nav-base-tab" data-bs-toggle="tab" data-bs-target="#nav-base" type="button" role="tab" aria-controls="nav-base" aria-selected="false">
							{{ ux_icon('fluent:tab-desktop-28-regular', {height: '20px', width: '20px'}) }}
							Base
						</button>
						<button class="nav-link" id="nav-production-insurer-tab" data-bs-toggle="tab" data-bs-target="#nav-production-insurer" type="button" role="tab" aria-controls="nav-production-insurer" aria-selected="false">
							{{ ux_icon('fluent:tab-desktop-28-regular', {height: '20px', width: '20px'}) }}
							Monnaies
						</button>
						<button class="nav-link" id="nav-graphs-tab" data-bs-toggle="tab" data-bs-target="#nav-graphs" type="button" role="tab" aria-controls="nav-graphs" aria-selected="true">
							{{ ux_icon('fluent:tab-desktop-28-regular', {height: '20px', width: '20px'}) }}
							Comptes
						</button>
					</div>
				</nav>
				{# Contenu de chaque Onglet #}
				<div class="tab-content p-2" id="nav-tabContent">
					<div class="tab-pane fade show active" id="nav-base" role="tabpanel" aria-labelledby="nav-base-tab" tabindex="0">
						<div class="row">
							<div class="col">
								{{ form_row(form.nom) }}
							</div>
						</div>
						<div class="row">
							<div class="col">
								{{ form_row(form.thumbnailFile) }}
							</div>
						</div>
						<div class="row">
							<div class="col-md">
								{{ form_row(form.adresse) }}
							</div>
							<div class="col-md">
								{{ form_row(form.telephone) }}
							</div>
						</div>
						<div class="row">
							<div class="col-md">
								{{ form_row(form.licence) }}
							</div>
							<div class="col-md">
								{{ form_row(form.rccm) }}
							</div>
						</div>
						<div class="row">
							<div class="col-md">
								{{ form_row(form.idnat) }}
							</div>
							<div class="col-md">
								{{ form_row(form.numimpot) }}
							</div>
						</div>
					</div>
					<div class="tab-pane fade" id="nav-production-insurer" role="tabpanel" aria-labelledby="nav-production-insurer-tab" tabindex="0">
						{{ form_widget(form.monnaies) }}
					</div>
					<div class="tab-pane fade" id="nav-graphs" role="tabpanel" aria-labelledby="nav-graphs-tab" tabindex="0">
						{{ form_widget(form.compteBancaires) }}
					</div>
				</div>
				{{ form_widget(form.enregistrer) }}
				{{ form_end(form) }}
			</div>
		</div>
	</div>
{% endblock %}