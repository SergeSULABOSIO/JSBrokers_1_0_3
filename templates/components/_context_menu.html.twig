{#
    Ce template représente le menu contextuel qui apparaît lors d'un clic droit sur une liste.
    Il est piloté par le contrôleur Stimulus `context-menu` (anciennement `list-element-context-menu`).

    Fonctionnement :
    - Ce contrôleur est "passif". Il est initialement caché.
    - Il écoute un événement global (ex: `app:show.context-menu`) pour s'afficher à la position de la souris.
    - Chaque option du menu (`<li>`) déclenche une action qui notifie le "Cerveau" d'une demande spécifique
      (ex: 'ui:context-menu.add-request'). C'est ensuite le contrôleur de liste (`list-manager`) qui exécute l'action.
#}
<nav 
    id="simpleContextMenu" 
    class="context-menu text-secondary" 
    data-controller="context-menu" 
    data-context-menu-target="menu" 
>
    <ul>
        {# Option "Ajouter" #}
        <li 
            data-context-menu-target="btAjouter" 
            data-action="click->context-menu#context_action_ajouter"
        >
            {{ include('segments/icones/actions/add.html.twig', {size:'20px'}) }}
            Ajouter
        </li>
        {# Option "Ouvrir" #}
        <li 
            data-context-menu-target="btOuvrir"
            data-action="click->context-menu#context_action_ouvrir"
            data-entity-type="{{entite_nom}}"
        >
            {{ include('segments/icones/actions/open.html.twig', {size:'20px'}) }}
            Ouvrir
        </li>
        {# Option "Modifier" #}
        <li 
            data-context-menu-target="btModifier" 
            data-action="click->context-menu#context_action_modifier"
        >
            {{ include('segments/icones/actions/edit.html.twig', {size:'20px'}) }}
            Modifier
        </li>
        {# Option "Tout Cocher" #}
        <li 
            data-context-menu-target="btToutCocher" 
            data-action="click->context-menu#context_action_tout_cocher"
        >
            {{ include('segments/icones/actions/check.html.twig', {size:'20px'}) }}
            Tout Cocher
        </li>
        {# Option "Actualiser" #}
        <li 
            data-context-menu-target="btActualiser" 
            data-action="click->context-menu#context_action_actualiser"
        >
            {{ include('segments/icones/actions/reload.html.twig', {size:'20px'}) }}
            Actualiser
        </li>

        {# Option "Supprimer" #}
        <li 
            data-context-menu-target="btSupprimer" 
            data-action="click->context-menu#context_action_supprimer" 
        >
            {{ include('segments/icones/actions/delete.html.twig', {size:'20px'}) }}
            Supprimer
        </li>

        {# Option "Séparateur" #}
        <li class="separator"></li>

        {# Option "Paramètre" #}
        <li 
            data-context-menu-target="btParametrer" 
            data-action="click->context-menu#context_action_parametrer"
        >
            {{ include('segments/icones/actions/settings.html.twig', {size:'20px'}) }}
            Paramètres
        </li>

        {# Option "Quitter" #}
        <li 
            data-context-menu-target="btQuitter" 
            data-action="click->context-menu#context_action_quitter"
        >
            {{ include('segments/icones/actions/exit.html.twig', {size:'20px'}) }}
            Quitter
        </li>
    </ul>
</nav>