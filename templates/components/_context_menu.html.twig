{#
    Ce template représente le menu contextuel qui apparaît lors d'un clic droit sur une liste.
    Il est piloté par le contrôleur Stimulus `context-menu` (anciennement `list-element-context-menu`).

    Fonctionnement :
    - Ce contrôleur est "passif". Il est initialement caché.
    - Il écoute un événement global (ex: `app:show.context-menu`) pour s'afficher à la position de la souris.
    - Chaque option du menu (`<li>`) déclenche une action qui notifie le "Cerveau" d'une demande spécifique
      (ex: 'ui:context-menu.add-request'). C'est ensuite le contrôleur de liste (`list-manager`) qui exécute l'action.
#}
<nav 
    id="simpleContextMenu" 
    class="context-menu text-secondary" 
    data-controller="context-menu" 
    data-context-menu-target="menu" 
>
    <ul>
        {# Option "Ajouter" #}
        <li 
            data-context-menu-target="btAjouter"
            data-action="click->context-menu#notify"
            data-context-menu-event-name-param="ui:toolbar.add-request" class="d-flex align-items-center gap-3"
        >
            <span class="context-menu-icon"><twig:UX:Icon name="{{ resolve_icon_name('action:add') }}" style="width: 20px;" /></span>
            <span class="flex-grow-1">Ajouter</span>
            <span class="context-menu-shortcut">A</span>
        </li>
        {# Option "Ouvrir" #}
        <li 
            data-context-menu-target="btOuvrir"
            data-action="click->context-menu#notify"
            data-context-menu-event-name-param="ui:toolbar.open-request" class="d-flex align-items-center gap-3"
        >
            <span class="context-menu-icon"><twig:UX:Icon name="{{ resolve_icon_name('action:open') }}" style="width: 20px;" /></span>
            <span class="flex-grow-1">Ouvrir</span>
            <span class="context-menu-shortcut">O</span>
        </li>
        {# Option "Modifier" #}
        <li 
            data-context-menu-target="btModifier" 
            data-action="click->context-menu#notify"
            data-context-menu-event-name-param="ui:toolbar.edit-request" class="d-flex align-items-center gap-3"
        >
            <span class="context-menu-icon"><twig:UX:Icon name="{{ resolve_icon_name('action:edit') }}" style="width: 20px;" /></span>
            <span class="flex-grow-1">Modifier</span>
            <span class="context-menu-shortcut">M</span>
        </li>
        {# Option "Tout Cocher" #}
        <li 
            data-context-menu-target="btToutCocher" 
            data-action="click->context-menu#notify"
            data-context-menu-event-name-param="ui:toolbar.select-all-request" class="d-flex align-items-center gap-3"
        >
            <span class="context-menu-icon"><twig:UX:Icon name="{{ resolve_icon_name('action:check') }}" style="width: 20px;" /></span>
            <span class="flex-grow-1">Tout Cocher</span>
            <span class="context-menu-shortcut"></span>
        </li>
        {# Option "Actualiser" #}
        <li 
            data-context-menu-target="btActualiser" 
            data-action="click->context-menu#notify"
            data-context-menu-event-name-param="ui:toolbar.refresh-request" class="d-flex align-items-center gap-3"
        >
            <span class="context-menu-icon"><twig:UX:Icon name="{{ resolve_icon_name('action:reload') }}" style="width: 20px;" /></span>
            <span class="flex-grow-1">Actualiser</span>
            <span class="context-menu-shortcut">R</span>
        </li>

        {# Option "Supprimer" #}
        <li
            data-context-menu-target="btSupprimer"
            data-action="click->context-menu#notify"
            data-context-menu-event-name-param="app:delete-request" class="d-flex align-items-center gap-3"
        >
            <span class="context-menu-icon"><twig:UX:Icon name="{{ resolve_icon_name('action:delete') }}" style="width: 20px;" /></span>
            <span class="flex-grow-1">Supprimer</span>
            <span class="context-menu-shortcut">S</span>
        </li>

        {# Option "Séparateur" #}
        <li class="separator"></li>

        {# Option "Paramètre" #}
        <li 
            data-context-menu-target="btParametrer" 
            data-action="click->context-menu#notify"
            data-context-menu-event-name-param="ui:toolbar.settings-request" class="d-flex align-items-center gap-3"
        >
            <span class="context-menu-icon"><twig:UX:Icon name="{{ resolve_icon_name('action:settings') }}" style="width: 20px;" /></span>
            <span class="flex-grow-1">Paramètres</span>
            <span class="context-menu-shortcut"></span>
        </li>

        {# Option "Quitter" #}
        <li 
            data-context-menu-target="btQuitter" 
            data-action="click->context-menu#notify"
            data-context-menu-event-name-param="ui:toolbar.close-request" class="d-flex align-items-center gap-3"
        >
            <span class="context-menu-icon"><twig:UX:Icon name="{{ resolve_icon_name('action:exit') }}" style="width: 20px;" /></span>
            <span class="flex-grow-1">Quitter</span>
            <span class="context-menu-shortcut">Q</span>
        </li>
    </ul>
</nav>