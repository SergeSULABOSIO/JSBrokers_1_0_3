{# ====================================================== #}
{# == DIALOGUE DE CONFIRMATION (pour la suppression)   == #}
{# ====================================================== #}
<div data-controller="confirmation-dialog" class="modal fade" tabindex="-1" id="confirmation-dialog-modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" data-confirmation-dialog-target="title">Confirmation requise</h5>
                <button type="button" class="btn-close btn-close-white" data-action="click->confirmation-dialog#close"></button>
            </div>
            <div class="dialog-progress-container" data-confirmation-dialog-target="progressBarContainer">
                <div class="dialog-progress-bar" role="progressbar"></div>
            </div>
            <div class="modal-body pb-0" data-confirmation-dialog-target="body">
                <p>Êtes-vous sûr de vouloir continuer ?</p>
            </div>
            {# NOUVEAU: Conteneur pour les détails des éléments à supprimer #}
            <div class="modal-body pt-2" data-confirmation-dialog-target="itemDetailsContainer" style="display: none;">
                <ul class="list-group list-group-flush small" data-confirmation-dialog-target="itemList">
                    {# Les éléments seront injectés ici par le contrôleur #}
                </ul>
            </div>
            {# NOUVEAU: Avertissement sur l'action irréversible #}
            <div class="modal-body pt-1">
                <div class="alert alert-warning d-flex align-items-center p-2" role="alert">
                    <twig:UX:Icon name="bi:exclamation-triangle-fill" class="me-2 flex-shrink-0" style="width: 20px; height: 20px;" />
                    <div>
                        <strong>Attention :</strong> Cette action est irréversible.
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                {# AJOUT: Conteneur pour les messages d'erreur #}
                <div class="feedback-container w-100 text-danger mb-2" data-confirmation-dialog-target="feedback"></div>

                <button type="button" class="btn btn-secondary" data-action="click->confirmation-dialog#close">
                    {# AJOUT DE L'ICÔNE "ANNULER" #}
                    <twig:UX:Icon name="bi:x-circle" style="width: 20px;" />
                    <span>Annuler</span>    
                </button>
                 {# MODIFICATION: Ajout du target et du spinner #}
                <button type="button" class="btn btn-danger" data-action="click->confirmation-dialog#confirm" data-confirmation-dialog-target="confirmButton">
                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none;"></span>
                    <twig:UX:Icon name="bi:check-circle-fill" class="button-icon" style="width: 20px;" />
                    <span class="button-text">Confirmer</span>
                </button>
            </div>
        </div>
    </div>
</div>